{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import\"./Register.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){const[username,setUsername]=useState(\"\");const[password,setPassword]=useState(\"\");const[showPassword,setShowPassword]=useState(false);// สถานะสำหรับแสดง/ซ่อนรหัสผ่าน\nconst[errorMessage,setErrorMessage]=useState(\"\");const navigate=useNavigate();const handleLogin=async()=>{try{const response=await fetch(\"http://localhost:5001/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username,password})});const data=await response.json();if(response.ok&&data.success){setErrorMessage(\"\");navigate(\"/home\");// เปลี่ยนไปยังหน้า Home\n}else{setErrorMessage(data.message||\"Username หรือ Password ไม่ถูกต้อง\");}}catch(error){console.error(\"Error during login:\",error);setErrorMessage(\"เกิดข้อผิดพลาดในการเข้าสู่ระบบ\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"register-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Admin Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"register-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",value:username,onChange:e=>setUsername(e.target.value),placeholder:\"\\u0E01\\u0E23\\u0E2D\\u0E01 Username\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"password-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword?\"text\":\"password\"// เปลี่ยน type ตามสถานะ showPassword\n,id:\"password\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"\\u0E01\\u0E23\\u0E2D\\u0E01 Password\"}),/*#__PURE__*/_jsx(\"span\",{className:\"toggle-password-icon\",onClick:()=>setShowPassword(!showPassword)// สลับสถานะ showPassword\n,children:showPassword?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-eye\"})// ไอคอนตาโดนปกติ\n:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-eye-slash\"})// ไอคอนตาขีด\n})]}),errorMessage&&/*#__PURE__*/_jsxs(\"div\",{className:\"error-banner\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"error-icon\",children:\"\\u26A0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"error-text\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0E40\\u0E02\\u0E49\\u0E32\\u0E2A\\u0E39\\u0E48\\u0E23\\u0E30\\u0E1A\\u0E1A\\u0E44\\u0E21\\u0E48\\u0E2A\\u0E33\\u0E40\\u0E23\\u0E47\\u0E08\"}),/*#__PURE__*/_jsx(\"span\",{children:errorMessage})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogin,children:\"\\u0E40\\u0E02\\u0E49\\u0E32\\u0E2A\\u0E39\\u0E48\\u0E23\\u0E30\\u0E1A\\u0E1A\"})]})]});}export default Register;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Register","username","setUsername","password","setPassword","showPassword","setShowPassword","errorMessage","setErrorMessage","navigate","handleLogin","response","fetch","method","headers","body","JSON","stringify","data","json","ok","success","message","error","console","className","children","htmlFor","type","id","value","onChange","e","target","placeholder","onClick"],"sources":["C:/Users/CRcra/Downloads/Test/Admin--/frontend/src/Register.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"./Register.css\";\r\n\r\nfunction Register() {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [showPassword, setShowPassword] = useState(false); // สถานะสำหรับแสดง/ซ่อนรหัสผ่าน\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogin = async () => {\r\n    try {\r\n      const response = await fetch(\"http://localhost:5001/login\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ username, password }),\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (response.ok && data.success) {\r\n        setErrorMessage(\"\");\r\n        navigate(\"/home\"); // เปลี่ยนไปยังหน้า Home\r\n      } else {\r\n        setErrorMessage(data.message || \"Username หรือ Password ไม่ถูกต้อง\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error during login:\", error);\r\n      setErrorMessage(\"เกิดข้อผิดพลาดในการเข้าสู่ระบบ\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"register-container\">\r\n      <h1>Admin Login</h1>\r\n      <div className=\"register-form\">\r\n        <label htmlFor=\"username\">Username</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"username\"\r\n          value={username}\r\n          onChange={(e) => setUsername(e.target.value)}\r\n          placeholder=\"กรอก Username\"\r\n        />\r\n        <label htmlFor=\"password\">Password</label>\r\n        <div className=\"password-container\">\r\n          <input\r\n            type={showPassword ? \"text\" : \"password\"} // เปลี่ยน type ตามสถานะ showPassword\r\n            id=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            placeholder=\"กรอก Password\"\r\n          />\r\n          <span\r\n            className=\"toggle-password-icon\"\r\n            onClick={() => setShowPassword(!showPassword)} // สลับสถานะ showPassword\r\n          >\r\n            {showPassword ? (\r\n              <i className=\"fas fa-eye\"></i> // ไอคอนตาโดนปกติ\r\n            ) : (\r\n              <i className=\"fas fa-eye-slash\"></i> // ไอคอนตาขีด\r\n            )}\r\n          </span>\r\n        </div>\r\n        {errorMessage && (\r\n          <div className=\"error-banner\">\r\n            <div className=\"error-icon\">⚠</div>\r\n            <div className=\"error-text\">\r\n              <strong>เข้าสู่ระบบไม่สำเร็จ</strong>\r\n              <span>{errorMessage}</span>\r\n            </div>\r\n          </div>\r\n        )}\r\n        <button onClick={handleLogin}>เข้าสู่ระบบ</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
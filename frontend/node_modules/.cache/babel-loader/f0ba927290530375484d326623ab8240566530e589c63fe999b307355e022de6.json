{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pyaks\\\\Admin--\\\\frontend\\\\src\\\\LuckyWheel.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from \"react\";\nimport \"./LuckyWheel.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LuckyWheel() {\n  _s();\n  const canvasRef = useRef(null);\n  const [segments, setSegments] = useState([\"รางวัลที่ 1\", \"รางวัลที่ 2\", \"รางวัลที่ 3\"]);\n  const [spinning, setSpinning] = useState(false);\n  const [result, setResult] = useState(\"\");\n\n  // ฟังก์ชันวาดวงล้อ\n  const drawWheel = (ctx, segs, angle = 0) => {\n    const arc = 2 * Math.PI / segs.length;\n    ctx.clearRect(0, 0, 340, 340);\n    for (let i = 0; i < segs.length; i++) {\n      const startAngle = i * arc + angle;\n      ctx.beginPath();\n      ctx.fillStyle = i % 2 === 0 ? \"#f59e42\" : \"#2563eb\";\n      ctx.moveTo(170, 170);\n      ctx.arc(170, 170, 170, startAngle, startAngle + arc);\n      ctx.fill();\n      ctx.save();\n      ctx.translate(170, 170);\n      ctx.rotate(startAngle + arc / 2);\n      ctx.fillStyle = \"white\";\n      ctx.font = \"14px sans-serif\";\n      ctx.textAlign = \"right\";\n      ctx.fillText(segs[i], 160, 5);\n      ctx.restore();\n    }\n  };\n\n  // หมุนวงล้อ\n  const spin = () => {\n    if (spinning) return;\n    setSpinning(true);\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    const arc = 2 * Math.PI / segments.length;\n    let spinAngle = Math.random() * 2 * Math.PI + (10 + Math.floor(Math.random() * 5)) * 2 * Math.PI;\n    let duration = 4000;\n    let start = null;\n    const animate = time => {\n      if (!start) start = time;\n      const progress = time - start;\n      const angle = spinAngle * (progress / duration) % (2 * Math.PI);\n      ctx.save();\n      ctx.translate(170, 170);\n      ctx.rotate(angle);\n      ctx.translate(-170, -170);\n      drawWheel(ctx, segments, 0);\n      ctx.restore();\n      if (progress < duration) {\n        requestAnimationFrame(animate);\n      } else {\n        const winnerIndex = Math.floor((2 * Math.PI - angle % (2 * Math.PI)) / arc) % segments.length;\n        setResult(`ผลลัพธ์: ${segments[winnerIndex]}`);\n        setSpinning(false);\n      }\n    };\n    requestAnimationFrame(animate);\n  };\n\n  // เพิ่มช่องใหม่\n  const addSegment = value => {\n    if (!value.trim()) return;\n    const newSegs = [...segments, value.trim()];\n    setSegments(newSegs);\n    const ctx = canvasRef.current.getContext(\"2d\");\n    drawWheel(ctx, newSegs);\n  };\n\n  // วาดวงล้อครั้งแรก\n  React.useEffect(() => {\n    const ctx = canvasRef.current.getContext(\"2d\");\n    drawWheel(ctx, segments);\n  }, [segments]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"lucky-wheel-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83C\\uDFA1 \\u0E27\\u0E07\\u0E25\\u0E49\\u0E2D\\u0E40\\u0E2A\\u0E35\\u0E48\\u0E22\\u0E07\\u0E42\\u0E0A\\u0E04\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wheel-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"segmentInput\",\n        placeholder: \"\\u0E43\\u0E2A\\u0E48\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E0A\\u0E48\\u0E2D\\u0E07...\",\n        onKeyDown: e => {\n          if (e.key === \"Enter\") addSegment(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => addSegment(document.getElementById(\"segmentInput\").value),\n        children: \"\\u2795 \\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E0A\\u0E48\\u0E2D\\u0E07\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wheel-area\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wheel-pointer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        width: \"340\",\n        height: \"340\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"spin-btn\",\n      onClick: spin,\n      disabled: spinning,\n      children: \"\\u0E2B\\u0E21\\u0E38\\u0E19\\u0E27\\u0E07\\u0E25\\u0E49\\u0E2D\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"winner-result\",\n      children: result\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n}\n_s(LuckyWheel, \"sCThrOMyJ5q8h4HMgHHjkAbMAJk=\");\n_c = LuckyWheel;\nexport default LuckyWheel;\nvar _c;\n$RefreshReg$(_c, \"LuckyWheel\");","map":{"version":3,"names":["React","useRef","useState","jsxDEV","_jsxDEV","LuckyWheel","_s","canvasRef","segments","setSegments","spinning","setSpinning","result","setResult","drawWheel","ctx","segs","angle","arc","Math","PI","length","clearRect","i","startAngle","beginPath","fillStyle","moveTo","fill","save","translate","rotate","font","textAlign","fillText","restore","spin","canvas","current","getContext","spinAngle","random","floor","duration","start","animate","time","progress","requestAnimationFrame","winnerIndex","addSegment","value","trim","newSegs","useEffect","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","id","placeholder","onKeyDown","e","key","target","onClick","document","getElementById","ref","width","height","disabled","_c","$RefreshReg$"],"sources":["C:/Users/pyaks/Admin--/frontend/src/LuckyWheel.js"],"sourcesContent":["import React, { useRef, useState } from \"react\";\r\nimport \"./LuckyWheel.css\";\r\n\r\nfunction LuckyWheel() {\r\n  const canvasRef = useRef(null);\r\n  const [segments, setSegments] = useState([\"รางวัลที่ 1\", \"รางวัลที่ 2\", \"รางวัลที่ 3\"]);\r\n  const [spinning, setSpinning] = useState(false);\r\n  const [result, setResult] = useState(\"\");\r\n\r\n  // ฟังก์ชันวาดวงล้อ\r\n  const drawWheel = (ctx, segs, angle = 0) => {\r\n    const arc = (2 * Math.PI) / segs.length;\r\n    ctx.clearRect(0, 0, 340, 340);\r\n    for (let i = 0; i < segs.length; i++) {\r\n      const startAngle = i * arc + angle;\r\n      ctx.beginPath();\r\n      ctx.fillStyle = i % 2 === 0 ? \"#f59e42\" : \"#2563eb\";\r\n      ctx.moveTo(170, 170);\r\n      ctx.arc(170, 170, 170, startAngle, startAngle + arc);\r\n      ctx.fill();\r\n\r\n      ctx.save();\r\n      ctx.translate(170, 170);\r\n      ctx.rotate(startAngle + arc / 2);\r\n      ctx.fillStyle = \"white\";\r\n      ctx.font = \"14px sans-serif\";\r\n      ctx.textAlign = \"right\";\r\n      ctx.fillText(segs[i], 160, 5);\r\n      ctx.restore();\r\n    }\r\n  };\r\n\r\n  // หมุนวงล้อ\r\n  const spin = () => {\r\n    if (spinning) return;\r\n    setSpinning(true);\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext(\"2d\");\r\n    const arc = (2 * Math.PI) / segments.length;\r\n\r\n    let spinAngle = Math.random() * 2 * Math.PI + (10 + Math.floor(Math.random() * 5)) * 2 * Math.PI;\r\n    let duration = 4000;\r\n    let start = null;\r\n\r\n    const animate = (time) => {\r\n      if (!start) start = time;\r\n      const progress = time - start;\r\n      const angle = (spinAngle * (progress / duration)) % (2 * Math.PI);\r\n\r\n      ctx.save();\r\n      ctx.translate(170, 170);\r\n      ctx.rotate(angle);\r\n      ctx.translate(-170, -170);\r\n      drawWheel(ctx, segments, 0);\r\n      ctx.restore();\r\n\r\n      if (progress < duration) {\r\n        requestAnimationFrame(animate);\r\n      } else {\r\n        const winnerIndex = Math.floor(((2 * Math.PI - (angle % (2 * Math.PI))) / arc)) % segments.length;\r\n        setResult(`ผลลัพธ์: ${segments[winnerIndex]}`);\r\n        setSpinning(false);\r\n      }\r\n    };\r\n\r\n    requestAnimationFrame(animate);\r\n  };\r\n\r\n  // เพิ่มช่องใหม่\r\n  const addSegment = (value) => {\r\n    if (!value.trim()) return;\r\n    const newSegs = [...segments, value.trim()];\r\n    setSegments(newSegs);\r\n    const ctx = canvasRef.current.getContext(\"2d\");\r\n    drawWheel(ctx, newSegs);\r\n  };\r\n\r\n  // วาดวงล้อครั้งแรก\r\n  React.useEffect(() => {\r\n    const ctx = canvasRef.current.getContext(\"2d\");\r\n    drawWheel(ctx, segments);\r\n  }, [segments]);\r\n\r\n  return (\r\n    <div className=\"lucky-wheel-container\">\r\n      <h2>🎡 วงล้อเสี่ยงโชค</h2>\r\n      <div className=\"wheel-controls\">\r\n        <input\r\n          type=\"text\"\r\n          id=\"segmentInput\"\r\n          placeholder=\"ใส่ชื่อช่อง...\"\r\n          onKeyDown={(e) => {\r\n            if (e.key === \"Enter\") addSegment(e.target.value);\r\n          }}\r\n        />\r\n        <button onClick={() => addSegment(document.getElementById(\"segmentInput\").value)}>\r\n          ➕ เพิ่มช่อง\r\n        </button>\r\n      </div>\r\n      <div className=\"wheel-area\">\r\n        <div className=\"wheel-pointer\"></div>\r\n        <canvas ref={canvasRef} width=\"340\" height=\"340\"></canvas>\r\n      </div>\r\n      <button className=\"spin-btn\" onClick={spin} disabled={spinning}>\r\n        หมุนวงล้อ\r\n      </button>\r\n      <div className=\"winner-result\">{result}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LuckyWheel;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}